<!DOCTYPE html>
<html lang="en" data-root="https://totallymoney.github.io/FsCDK/">
<head>
    <meta charset="UTF-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Edgar Gonzalez" name="author">
    <!-- Opengraph properties (https://ogp.me/) -->
    <meta property="og:site_name" content="FsCDK">
    <meta property="og:title" content="Lambda Powertools Integration" />
    <meta property="og:url" content="https://totallymoney.github.io/FsCDK/lambda-powertools.html">
    <meta property="og:type" content="website" />
    <!-- Twitter cards (https://developer.twitter.com/en/docs/twitter-for-websites/cards/overview/summary-card-with-large-image) -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="https://totallymoney.github.io/FsCDK/">
    <meta name="twitter:title" content="Lambda Powertools Integration">
    <meta name="description" content="AWS Lambda Powertools integration for production-grade observability">
<meta name="twitter:site" content="AWS Lambda Powertools integration for production-grade observability">
<meta name="og:description" content="AWS Lambda Powertools integration for production-grade observability">
    <title>Lambda Powertools Integration | FsCDK</title>
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <link href="https://totallymoney.github.io/FsCDK/img/favicon.ico" rel="icon" sizes="32x32" type="image/png"/>
    <script type="application/javascript" src="https://totallymoney.github.io/FsCDK/content/fsdocs-theme-set-dark.js"></script>
    <link href="https://totallymoney.github.io/FsCDK/content/fsdocs-default.css" rel="stylesheet" type="text/css"/>
    <link href="https://totallymoney.github.io/FsCDK/content/fsdocs-theme.css" rel="stylesheet" type="text/css"/>
    
    
</head>
<body class="content">
<header>
    <div class="start">
        <div id="menu-toggle">
            <iconify-icon class="icon closed" height="22" icon="eva:menu-fill" width="22"></iconify-icon>
            <iconify-icon class="icon open" height="22" icon="mi:close" width="22"></iconify-icon>
            <input type="checkbox" name="mobile-menu" />
            <ul class="menu">
                <li class="nav-header">Links</li>
                <li class="nav-item"><a class="nav-link" href="https://github.com/totallymoney/FsCDK/blob/main/LICENSE">License</a>
                </li>
                <li class="nav-item"><a class="nav-link"
                                        href="https://github.com/totallymoney/FsCDK/blob/main/CHANGELOG.md">Release
                    Notes</a></li>
                <li class="nav-item"><a class="nav-link" href="https://github.com/totallymoney/FsCDK/">Source
                    Repository</a></li>
                <li class="nav-header active">
  Resources
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/alb-secrets-route53.html">
    Load Balancer, Secrets Manager, and Route 53 Example
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/api-gateway-v2.html">
    API Gateway V2 (HTTP API)
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/bastion-host.html">
    Bastion Host
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/bucket-policy.html">
    S3 Bucket Policy
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/certificate-manager.html">
    Certificate Manager
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/cloudtrail-audit-logging.html">
    CloudTrail Audit Logging
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/cloudwatch-dashboard.html">
    CloudWatch Monitoring and Dashboards
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/cognito-m2m-oauth.html">
    Cognito OAuth 2.0 Machine-to-Machine (M2M)
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/dynamodb.html">
    DynamoDB Tables
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/ec2-ecs.html">
    EC2 and ECS Example
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/ecr-repository.html">
    ECR Repository (Container Registry)
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/eks-kubernetes.html">
    EKS (Elastic Kubernetes Service) Example
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/eventbridge.html">
    EventBridge
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/kinesis-streams.html">
    Kinesis Streams Example
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/kms-encryption.html">
    KMS Key Management
  </a>
</li>             
<li class="nav-item active">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/lambda-powertools.html">
    Lambda Powertools Integration
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/lambda-production-defaults.html">
    Lambda Production Defaults
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/lambda-quickstart.html">
    Lambda Quickstart Example
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/managed-policy.html">
    Managed IAM Policy
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/network-load-balancer.html">
    Network Load Balancer
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/rds-database.html">
    RDS Relational Databases
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/s3-quickstart.html">
    S3 Quickstart Example
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/sns-sqs-messaging.html">
    SNS and SQS Messaging
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/step-functions.html">
    Step Functions (State Machines)
  </a>
</li>             
<li class="nav-header ">
  Testing
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/localstack-testing.html">
    Local Testing with LocalStack
  </a>
</li>             
<li class="nav-header ">
  Reference
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/aws-learning-resources.html">
    AWS Learning Resources
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/comparison-to-farmer.html">
    Comparison with Azure (Farmer F#) to AWS (FsCDK)
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/feature-reference.html">
    Complete Feature Reference
  </a>
</li>             
<li class="nav-header ">
  Getting Started
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/getting-started-extended.html">
    Getting Started with FsCDK - Extended Features
  </a>
</li>             
<li class="nav-header ">
  Tutorials
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/multi-tenant-patterns.html">
    Multi-Tenant SaaS Patterns
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/multi-tier-example.html">
    FsCDK Multi-Tier Application Example
  </a>
</li>             
<li class="nav-header ">
  Best Practices
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/backup-and-disaster-recovery.html">
    Backup and Disaster Recovery on AWS
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/cost-optimization-strategies.html">
    AWS Cost Optimization Strategies
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/governance-compliance-aws-organizations.html">
    Governance and Compliance with AWS Organizations
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/iam-best-practices.html">
    IAM Best Practices for FsCDK
  </a>
</li>             
<li class="nav-header ">
  Other
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/custom-resources.html">
    Production-grade custom resources with FsCDK

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/img/diagrams/README.html">
    FsCDK Documentation Diagrams

  </a>
</li>
                <li class="nav-header">
  API Reference
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/reference/index.html">
    All Namespaces
  </a>
</li>
            </ul>
        </div>
        <a href="https://github.com/totallymoney/FsCDK">
            <img alt="Header menu logo" src="https://totallymoney.github.io/FsCDK/img/logo.png">
            <strong>FsCDK</strong>
        </a>
    </div>
    <div class="end">
        <a href="https://github.com/totallymoney/FsCDK/" target="_blank">
            <iconify-icon icon="uil:github" width="26" height="26"></iconify-icon>
        </a>
        <iconify-icon id="search-btn" icon="carbon:search" class="search" width="24" height="24"></iconify-icon>
        <fsdocs-theme-toggle></fsdocs-theme-toggle>
    </div>
</header>
<aside id="fsdocs-main-menu">
    <ul class="menu">
        <li class="nav-header">Links</li>
        <li class="nav-item"><a class="nav-link" href="https://github.com/totallymoney/FsCDK/blob/main/LICENSE">License</a>
        </li>
        <li class="nav-item"><a class="nav-link"
                                href="https://github.com/totallymoney/FsCDK/blob/main/CHANGELOG.md">Release
            Notes</a></li>
        <li class="nav-item"><a class="nav-link" href="https://github.com/totallymoney/FsCDK/">Source
            Repository</a></li>
        <li class="nav-header active">
  Resources
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/alb-secrets-route53.html">
    Load Balancer, Secrets Manager, and Route 53 Example
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/api-gateway-v2.html">
    API Gateway V2 (HTTP API)
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/bastion-host.html">
    Bastion Host
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/bucket-policy.html">
    S3 Bucket Policy
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/certificate-manager.html">
    Certificate Manager
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/cloudtrail-audit-logging.html">
    CloudTrail Audit Logging
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/cloudwatch-dashboard.html">
    CloudWatch Monitoring and Dashboards
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/cognito-m2m-oauth.html">
    Cognito OAuth 2.0 Machine-to-Machine (M2M)
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/dynamodb.html">
    DynamoDB Tables
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/ec2-ecs.html">
    EC2 and ECS Example
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/ecr-repository.html">
    ECR Repository (Container Registry)
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/eks-kubernetes.html">
    EKS (Elastic Kubernetes Service) Example
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/eventbridge.html">
    EventBridge
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/kinesis-streams.html">
    Kinesis Streams Example
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/kms-encryption.html">
    KMS Key Management
  </a>
</li>             
<li class="nav-item active">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/lambda-powertools.html">
    Lambda Powertools Integration
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/lambda-production-defaults.html">
    Lambda Production Defaults
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/lambda-quickstart.html">
    Lambda Quickstart Example
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/managed-policy.html">
    Managed IAM Policy
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/network-load-balancer.html">
    Network Load Balancer
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/rds-database.html">
    RDS Relational Databases
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/s3-quickstart.html">
    S3 Quickstart Example
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/sns-sqs-messaging.html">
    SNS and SQS Messaging
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/step-functions.html">
    Step Functions (State Machines)
  </a>
</li>             
<li class="nav-header ">
  Testing
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/localstack-testing.html">
    Local Testing with LocalStack
  </a>
</li>             
<li class="nav-header ">
  Reference
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/aws-learning-resources.html">
    AWS Learning Resources
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/comparison-to-farmer.html">
    Comparison with Azure (Farmer F#) to AWS (FsCDK)
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/feature-reference.html">
    Complete Feature Reference
  </a>
</li>             
<li class="nav-header ">
  Getting Started
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/getting-started-extended.html">
    Getting Started with FsCDK - Extended Features
  </a>
</li>             
<li class="nav-header ">
  Tutorials
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/multi-tenant-patterns.html">
    Multi-Tenant SaaS Patterns
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/multi-tier-example.html">
    FsCDK Multi-Tier Application Example
  </a>
</li>             
<li class="nav-header ">
  Best Practices
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/backup-and-disaster-recovery.html">
    Backup and Disaster Recovery on AWS
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/cost-optimization-strategies.html">
    AWS Cost Optimization Strategies
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/governance-compliance-aws-organizations.html">
    Governance and Compliance with AWS Organizations
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/iam-best-practices.html">
    IAM Best Practices for FsCDK
  </a>
</li>             
<li class="nav-header ">
  Other
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/custom-resources.html">
    Production-grade custom resources with FsCDK

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/img/diagrams/README.html">
    FsCDK Documentation Diagrams

  </a>
</li>
        <li class="nav-header">
  API Reference
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://totallymoney.github.io/FsCDK/reference/index.html">
    All Namespaces
  </a>
</li>
    </ul>
</aside>
<main>
    <div id="content">
        
<h1><a name="Lambda-Powertools-Integration" class="anchor" href="#Lambda-Powertools-Integration"><img src="img/icons/Arch_AWS-Lambda_48.png" alt="Lambda" /> Lambda Powertools Integration</a></h1>
<p>FsCDK provides first-class integration with <strong>AWS Lambda Powertools</strong>, a suite of utilities for:
- Structured logging with correlation IDs
- Custom metrics without CloudWatch API overhead
- Distributed tracing integration
- Best practice environment variables</p>
<p>Powertools layers are <strong>automatically added</strong> to supported Lambda functions (Python, Node.js, Java).</p>
<hr />
<h2><a name="Quick-Start" class="anchor" href="#Quick-Start">Quick Start</a></h2>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;nuget: Amazon.CDK.Lib, 2.128.0&quot;</span>
<span class="pp">#r</span> <span class="s">&quot;../src/bin/Release/net8.0/publish/Amazon.JSII.Runtime.dll&quot;</span>
<span class="pp">#r</span> <span class="s">&quot;../src/bin/Release/net8.0/publish/Constructs.dll&quot;</span>
<span class="pp">#r</span> <span class="s">&quot;../src/bin/Release/net8.0/publish/Amazon.CDK.Lib.dll&quot;</span>
<span class="pp">#r</span> <span class="s">&quot;../src/bin/Release/net8.0/publish/FsCDK.dll&quot;</span>


<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">Amazon</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="id">CDK</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 3)" onmouseover="showTip(event, 'fs1', 3)" class="id">Amazon</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 4)" onmouseover="showTip(event, 'fs2', 4)" class="id">CDK</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs3', 5)" onmouseover="showTip(event, 'fs3', 5)" class="id">AWS</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 6)" onmouseover="showTip(event, 'fs4', 6)" class="id">Lambda</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs5', 7)" onmouseover="showTip(event, 'fs5', 7)" class="id">FsCDK</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs6', 8)" onmouseover="showTip(event, 'fs6', 8)" class="id">app</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs7', 9)" onmouseover="showTip(event, 'fs7', 9)" class="fn">App</span><span class="pn">(</span><span class="pn">)</span>

<span onmouseout="hideTip(event, 'fs8', 10)" onmouseover="showTip(event, 'fs8', 10)" class="fn">stack</span> <span class="s">&quot;PowertoolsDemo&quot;</span> <span class="pn">{</span>
    <span onmouseout="hideTip(event, 'fs6', 11)" onmouseover="showTip(event, 'fs6', 11)" class="id">app</span>

    <span onmouseout="hideTip(event, 'fs9', 12)" onmouseover="showTip(event, 'fs9', 12)" class="fn">lambda</span> <span class="s">&quot;MyFunction&quot;</span> <span class="pn">{</span>
        <span onmouseout="hideTip(event, 'fs10', 13)" onmouseover="showTip(event, 'fs10', 13)" class="k">handler</span> <span class="s">&quot;app.handler&quot;</span>
        <span onmouseout="hideTip(event, 'fs11', 14)" onmouseover="showTip(event, 'fs11', 14)" class="k">runtime</span> <span onmouseout="hideTip(event, 'fs12', 15)" onmouseover="showTip(event, 'fs12', 15)" class="rt">Runtime</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs13', 16)" onmouseover="showTip(event, 'fs13', 16)" class="id">PYTHON_3_11</span>
        <span onmouseout="hideTip(event, 'fs14', 17)" onmouseover="showTip(event, 'fs14', 17)" class="k">code</span> <span class="s">&quot;./src&quot;</span>

        <span class="c">// Powertools layer added automatically!</span>
        <span class="c">// Just add environment variables for configuration</span>
        <span onmouseout="hideTip(event, 'fs15', 18)" onmouseover="showTip(event, 'fs15', 18)" class="k">environment</span>
            <span class="pn">[</span> <span class="s">&quot;POWERTOOLS_SERVICE_NAME&quot;</span><span class="pn">,</span> <span class="s">&quot;order-service&quot;</span>
              <span class="s">&quot;POWERTOOLS_METRICS_NAMESPACE&quot;</span><span class="pn">,</span> <span class="s">&quot;MyApp&quot;</span>
              <span class="s">&quot;LOG_LEVEL&quot;</span><span class="pn">,</span> <span class="s">&quot;INFO&quot;</span> <span class="pn">]</span>
    <span class="pn">}</span>
<span class="pn">}</span>
</code></pre>
<p>That's it! The Powertools layer is automatically added, and your function is ready to use Powertools features.</p>
<hr />
<h2><a name="Supported-Runtimes" class="anchor" href="#Supported-Runtimes">Supported Runtimes</a></h2>
<h3><a name="Automatic-Layer-Addition" class="anchor" href="#Automatic-Layer-Addition">Automatic Layer Addition</a></h3>
<p>FsCDK automatically adds Powertools layers for these runtimes:</p>
<table>
<thead>
<tr class="header">
<th><p>Runtime</p></th>
<th><p>Powertools Layer</p></th>
<th><p>Status</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>Python 3.8</strong></p></td>
<td><p>AWSLambdaPowertoolsPython</p></td>
<td><p>Auto-added</p></td>
</tr>
<tr class="even">
<td><p><strong>Python 3.9</strong></p></td>
<td><p>AWSLambdaPowertoolsPython</p></td>
<td><p>Auto-added</p></td>
</tr>
<tr class="odd">
<td><p><strong>Python 3.10</strong></p></td>
<td><p>AWSLambdaPowertoolsPython</p></td>
<td><p>Auto-added</p></td>
</tr>
<tr class="even">
<td><p><strong>Python 3.11</strong></p></td>
<td><p>AWSLambdaPowertoolsPython</p></td>
<td><p>Auto-added</p></td>
</tr>
<tr class="odd">
<td><p><strong>Python 3.12</strong></p></td>
<td><p>AWSLambdaPowertoolsPython</p></td>
<td><p>Auto-added</p></td>
</tr>
<tr class="even">
<td><p><strong>Node.js 14</strong></p></td>
<td><p>AWSLambdaPowertoolsTypeScript</p></td>
<td><p>Auto-added</p></td>
</tr>
<tr class="odd">
<td><p><strong>Node.js 16</strong></p></td>
<td><p>AWSLambdaPowertoolsTypeScript</p></td>
<td><p>Auto-added</p></td>
</tr>
<tr class="even">
<td><p><strong>Node.js 18</strong></p></td>
<td><p>AWSLambdaPowertoolsTypeScript</p></td>
<td><p>Auto-added</p></td>
</tr>
<tr class="odd">
<td><p><strong>Node.js 20</strong></p></td>
<td><p>AWSLambdaPowertoolsTypeScript</p></td>
<td><p>Auto-added</p></td>
</tr>
<tr class="even">
<td><p><strong>Java 8</strong></p></td>
<td><p>AWSLambdaPowertoolsJava</p></td>
<td><p>Auto-added</p></td>
</tr>
<tr class="odd">
<td><p><strong>Java 11</strong></p></td>
<td><p>AWSLambdaPowertoolsJava</p></td>
<td><p>Auto-added</p></td>
</tr>
<tr class="even">
<td><p><strong>Java 17</strong></p></td>
<td><p>AWSLambdaPowertoolsJava</p></td>
<td><p>Auto-added</p></td>
</tr>
<tr class="odd">
<td><p>*<em>.NET 6+*</em></p></td>
<td><p>NuGet packages</p></td>
<td><p>Manual (see below)</p></td>
</tr>
</tbody>
</table>

<blockquote>
<p><strong>Note</strong>: Currently, Powertools layers use <strong>us-east-1</strong> region by default. The layer ARNs are regionalized and work in all AWS regions, but the ARN string currently references us-east-1. This will be improved in a future release to use the actual stack region.</p>
</blockquote>
<h3><a name="NET-Special-Case" class="anchor" href="#NET-Special-Case">.NET Special Case</a></h3>
<p>.NET Lambda functions use <strong>NuGet packages</strong> instead of layers. Add these to your <code>.csproj</code> or <code>.fsproj</code>:</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip highlighted"><code lang="xml"><span class="k">&lt;</span><span class="i">ItemGroup</span><span class="k">&gt;</span>
  <span class="k">&lt;</span><span class="i">PackageReference</span> <span class="o">Include</span><span class="k">="AWS.Lambda.Powertools.Logging"</span> <span class="o">Version</span><span class="k">="1.5.0"</span> <span class="k">/&gt;</span>
  <span class="k">&lt;</span><span class="i">PackageReference</span> <span class="o">Include</span><span class="k">="AWS.Lambda.Powertools.Metrics"</span> <span class="o">Version</span><span class="k">="1.5.0"</span> <span class="k">/&gt;</span>
  <span class="k">&lt;</span><span class="i">PackageReference</span> <span class="o">Include</span><span class="k">="AWS.Lambda.Powertools.Tracing"</span> <span class="o">Version</span><span class="k">="1.5.0"</span> <span class="k">/&gt;</span>
<span class="k">&lt;/</span><span class="i">ItemGroup</span><span class="k">&gt;</span>
</code></pre></td></tr></table>
<p>FsCDK <strong>skips</strong> layer auto-addition for .NET runtimes.</p>
<hr />
<h2><a name="Python-Example" class="anchor" href="#Python-Example">Python Example</a></h2>
<h3><a name="CDK-Definition" class="anchor" href="#CDK-Definition">CDK Definition</a></h3>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs9', 19)" onmouseover="showTip(event, 'fs9', 19)" class="fn">lambda</span> <span class="s">&quot;PythonOrderProcessor&quot;</span> <span class="pn">{</span>
    <span onmouseout="hideTip(event, 'fs10', 20)" onmouseover="showTip(event, 'fs10', 20)" class="k">handler</span> <span class="s">&quot;app.lambda_handler&quot;</span>
    <span onmouseout="hideTip(event, 'fs11', 21)" onmouseover="showTip(event, 'fs11', 21)" class="k">runtime</span> <span onmouseout="hideTip(event, 'fs12', 22)" onmouseover="showTip(event, 'fs12', 22)" class="rt">Runtime</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs13', 23)" onmouseover="showTip(event, 'fs13', 23)" class="id">PYTHON_3_11</span>
    <span onmouseout="hideTip(event, 'fs14', 24)" onmouseover="showTip(event, 'fs14', 24)" class="k">code</span> <span class="s">&quot;./python-service&quot;</span>
    <span onmouseout="hideTip(event, 'fs16', 25)" onmouseover="showTip(event, 'fs16', 25)" class="k">memory</span> <span class="n">512</span>
    <span onmouseout="hideTip(event, 'fs17', 26)" onmouseover="showTip(event, 'fs17', 26)" class="k">timeout</span> <span class="n">30.0</span>

    <span onmouseout="hideTip(event, 'fs15', 27)" onmouseover="showTip(event, 'fs15', 27)" class="k">environment</span>
        <span class="pn">[</span> <span class="s">&quot;POWERTOOLS_SERVICE_NAME&quot;</span><span class="pn">,</span> <span class="s">&quot;order-processor&quot;</span>
          <span class="s">&quot;POWERTOOLS_METRICS_NAMESPACE&quot;</span><span class="pn">,</span> <span class="s">&quot;ECommerceApp&quot;</span>
          <span class="s">&quot;LOG_LEVEL&quot;</span><span class="pn">,</span> <span class="s">&quot;INFO&quot;</span>
          <span class="c">// Optional advanced configuration</span>
          <span class="s">&quot;POWERTOOLS_LOGGER_SAMPLE_RATE&quot;</span><span class="pn">,</span> <span class="s">&quot;0.1&quot;</span> <span class="c">// Sample 10% of logs</span>
          <span class="s">&quot;POWERTOOLS_LOGGER_LOG_EVENT&quot;</span><span class="pn">,</span> <span class="s">&quot;true&quot;</span> <span class="c">// Log incoming event</span>
          <span class="s">&quot;POWERTOOLS_TRACE_DISABLED&quot;</span><span class="pn">,</span> <span class="s">&quot;false&quot;</span> <span class="pn">]</span> <span class="c">// Enable tracing</span>
<span class="pn">}</span>
</code></pre>
<h3><a name="Python-Lambda-Code" class="anchor" href="#Python-Lambda-Code">Python Lambda Code</a></h3>
<p><strong>app.py:</strong></p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="python">from aws_lambda_powertools import Logger, Tracer, Metrics
from aws_lambda_powertools.utilities.typing import LambdaContext
from aws_lambda_powertools.utilities.data_classes import event_source, SQSEvent
from aws_lambda_powertools.metrics import MetricUnit

# Initialize Powertools
logger = Logger()
tracer = Tracer()
metrics = Metrics()

@logger.inject_lambda_context(log_event=True)
@tracer.capture_lambda_handler
@metrics.log_metrics(capture_cold_start_metric=True)
def lambda_handler(event: dict, context: LambdaContext) -&gt; dict:
    """
    Process order events with full observability
    """
    
    # Structured logging with correlation IDs (automatic)
    logger.info("Processing order", extra={
        "order_id": event.get("orderId"),
        "customer_id": event.get("customerId"),
        "amount": event.get("amount")
    })
    
    try:
        # Your business logic
        order_id = process_order(event)
        
        # Add custom metrics (no CloudWatch API calls!)
        metrics.add_metric(name="OrderProcessed", unit=MetricUnit.Count, value=1)
        metrics.add_metric(name="OrderAmount", unit=MetricUnit.None, value=event.get("amount", 0))
        
        logger.info("Order processed successfully", extra={"order_id": order_id})
        
        return {"statusCode": 200, "orderId": order_id}
        
    except Exception as e:
        logger.exception("Failed to process order")
        metrics.add_metric(name="OrderFailed", unit=MetricUnit.Count, value=1)
        raise

@tracer.capture_method
def process_order(event: dict) -&gt; str:
    """
    Process order with method-level tracing
    """
    # This method automatically creates an X-Ray subsegment
    order_id = event["orderId"]
    
    # Add annotations for X-Ray filtering
    tracer.put_annotation(key="OrderId", value=order_id)
    tracer.put_metadata(key="order_details", value=event)
    
    # Your order processing logic here
    validate_order(event)
    save_to_database(order_id)
    
    return order_id

@tracer.capture_method
def validate_order(event: dict):
    """Validate order details"""
    logger.debug("Validating order", extra={"order": event})
    # Validation logic...

@tracer.capture_method
def save_to_database(order_id: str):
    """Save order to database"""
    logger.info("Saving order to database", extra={"order_id": order_id})
    # Database logic...
</code></pre></td></tr></table>
<h3><a name="SQS-Event-Processing-with-Powertools" class="anchor" href="#SQS-Event-Processing-with-Powertools">SQS Event Processing with Powertools</a></h3>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="python">from aws_lambda_powertools.utilities.data_classes import event_source, SQSEvent
from aws_lambda_powertools.utilities.batch import BatchProcessor, EventType

processor = BatchProcessor(event_type=EventType.SQS)

@logger.inject_lambda_context
@tracer.capture_lambda_handler
def lambda_handler(event, context):
    return processor.process(event=event, record_handler=process_record)

def process_record(record):
    """Process individual SQS message"""
    logger.info("Processing record", extra={"message_id": record.message_id})
    # Process message...
</code></pre></td></tr></table>
<hr />
<h2><a name="Node-js-TypeScript-Example" class="anchor" href="#Node-js-TypeScript-Example">Node.js/TypeScript Example</a></h2>
<h3><a name="CDK-Definition-1" class="anchor" href="#CDK-Definition-1">CDK Definition</a></h3>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs9', 28)" onmouseover="showTip(event, 'fs9', 28)" class="fn">lambda</span> <span class="s">&quot;NodeOrderProcessor&quot;</span> <span class="pn">{</span>
    <span onmouseout="hideTip(event, 'fs10', 29)" onmouseover="showTip(event, 'fs10', 29)" class="k">handler</span> <span class="s">&quot;index.handler&quot;</span>
    <span onmouseout="hideTip(event, 'fs11', 30)" onmouseover="showTip(event, 'fs11', 30)" class="k">runtime</span> <span onmouseout="hideTip(event, 'fs12', 31)" onmouseover="showTip(event, 'fs12', 31)" class="rt">Runtime</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs18', 32)" onmouseover="showTip(event, 'fs18', 32)" class="id">NODEJS_20_X</span>
    <span onmouseout="hideTip(event, 'fs14', 33)" onmouseover="showTip(event, 'fs14', 33)" class="k">code</span> <span class="s">&quot;./nodejs-service&quot;</span>
    <span onmouseout="hideTip(event, 'fs16', 34)" onmouseover="showTip(event, 'fs16', 34)" class="k">memory</span> <span class="n">512</span>
    <span onmouseout="hideTip(event, 'fs17', 35)" onmouseover="showTip(event, 'fs17', 35)" class="k">timeout</span> <span class="n">30.0</span>

    <span onmouseout="hideTip(event, 'fs15', 36)" onmouseover="showTip(event, 'fs15', 36)" class="k">environment</span>
        <span class="pn">[</span> <span class="s">&quot;POWERTOOLS_SERVICE_NAME&quot;</span><span class="pn">,</span> <span class="s">&quot;order-processor&quot;</span>
          <span class="s">&quot;POWERTOOLS_METRICS_NAMESPACE&quot;</span><span class="pn">,</span> <span class="s">&quot;ECommerceApp&quot;</span>
          <span class="s">&quot;LOG_LEVEL&quot;</span><span class="pn">,</span> <span class="s">&quot;INFO&quot;</span>
          <span class="c">// Optional configuration</span>
          <span class="s">&quot;POWERTOOLS_LOGGER_SAMPLE_RATE&quot;</span><span class="pn">,</span> <span class="s">&quot;0.1&quot;</span>
          <span class="s">&quot;POWERTOOLS_LOGGER_LOG_EVENT&quot;</span><span class="pn">,</span> <span class="s">&quot;true&quot;</span> <span class="pn">]</span>
<span class="pn">}</span>
</code></pre>
<h3><a name="TypeScript-Lambda-Code" class="anchor" href="#TypeScript-Lambda-Code">TypeScript Lambda Code</a></h3>
<p><strong>Install dependencies:</strong></p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="bash">npm install @aws-lambda-powertools/logger \
            @aws-lambda-powertools/tracer \
            @aws-lambda-powertools/metrics
</code></pre></td></tr></table>
<p><strong>index.ts:</strong></p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip highlighted"><code lang="typescript"><span class="k">import</span> { Logger } <span class="k">from</span> <span class="s">'@aws-lambda-powertools/logger'</span>;
<span class="k">import</span> { Tracer } <span class="k">from</span> <span class="s">'@aws-lambda-powertools/tracer'</span>;
<span class="k">import</span> { Metrics, MetricUnits } <span class="k">from</span> <span class="s">'@aws-lambda-powertools/metrics'</span>;
<span class="k">import</span> { Context } <span class="k">from</span> <span class="s">'aws-lambda'</span>;

<span class="c">// Initialize Powertools</span>
<span class="k">const</span> logger <span class="o">=</span> <span class="k">new</span> Logger();
<span class="k">const</span> tracer <span class="o">=</span> <span class="k">new</span> Tracer();
<span class="k">const</span> metrics <span class="o">=</span> <span class="k">new</span> Metrics();

<span class="k">export</span> <span class="k">const</span> handler <span class="o">=</span> <span class="k">async</span> (<span class="k">event</span>: any, context: Context) <span class="o">=</span><span class="o">&gt;</span> {
    <span class="c">// Add context information</span>
    logger.addContext(context);
    
    <span class="c">// Structured logging with correlation IDs</span>
    logger.info('Processing order', { 
        orderId: <span class="k">event</span>.orderId,
        customerId: <span class="k">event</span>.customerId,
        amount: <span class="k">event</span>.amount 
    });
    
    <span class="k">try</span> {
        <span class="c">// Your business logic</span>
        <span class="k">const</span> orderId <span class="o">=</span> <span class="k">await</span> processOrder(<span class="k">event</span>);
        
        <span class="c">// Add custom metrics</span>
        metrics.addMetric(<span class="s">'OrderProcessed'</span>, MetricUnits.Count, <span class="n">1</span>);
        metrics.addMetric(<span class="s">'OrderAmount'</span>, MetricUnits.None, <span class="k">event</span>.amount);
        
        logger.info('Order processed successfully', { orderId });
        
        <span class="k">return</span> { statusCode: <span class="n">200</span>, orderId };
        
    } <span class="k">catch</span> (error) {
        logger.error('Failed to process order', error <span class="k">as</span> Error);
        metrics.addMetric(<span class="s">'OrderFailed'</span>, MetricUnits.Count, <span class="n">1</span>);
        <span class="k">throw</span> error;
    }
};

<span class="k">async</span> <span class="k">function</span> processOrder(<span class="k">event</span>: any): Promise&lt;<span class="k">string</span>&gt; {
    <span class="c">// Create manual segment for detailed tracing</span>
    <span class="k">const</span> segment <span class="o">=</span> tracer.getSegment();
    <span class="k">const</span> subsegment <span class="o">=</span> segment?.addNewSubsegment(<span class="s">'processOrder'</span>);
    
    <span class="k">try</span> {
        <span class="k">const</span> orderId <span class="o">=</span> <span class="k">event</span>.orderId;
        
        <span class="c">// Add annotations for X-Ray</span>
        subsegment?.addAnnotation(<span class="s">'OrderId'</span>, orderId);
        subsegment?.addMetadata(<span class="s">'order_details'</span>, <span class="k">event</span>);
        
        <span class="c">// Your order processing logic</span>
        <span class="k">await</span> validateOrder(<span class="k">event</span>);
        <span class="k">await</span> saveToDatabase(orderId);
        
        subsegment?.close();
        <span class="k">return</span> orderId;
        
    } <span class="k">catch</span> (error) {
        subsegment?.close(error <span class="k">as</span> Error);
        <span class="k">throw</span> error;
    }
}

<span class="k">async</span> <span class="k">function</span> validateOrder(<span class="k">event</span>: any): Promise&lt;<span class="k">void</span>&gt; {
    logger.debug('Validating order', { order: <span class="k">event</span> });
    <span class="c">// Validation logic...</span>
}

<span class="k">async</span> <span class="k">function</span> saveToDatabase(orderId: <span class="k">string</span>): Promise&lt;<span class="k">void</span>&gt; {
    logger.info('Saving order to database', { orderId });
    <span class="c">// Database logic...</span>
}
</code></pre></td></tr></table>
<hr />
<h2><a name="Java-Example" class="anchor" href="#Java-Example">Java Example</a></h2>
<h3><a name="CDK-Definition-2" class="anchor" href="#CDK-Definition-2">CDK Definition</a></h3>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs9', 37)" onmouseover="showTip(event, 'fs9', 37)" class="fn">lambda</span> <span class="s">&quot;JavaOrderProcessor&quot;</span> <span class="pn">{</span>
    <span onmouseout="hideTip(event, 'fs10', 38)" onmouseover="showTip(event, 'fs10', 38)" class="k">handler</span> <span class="s">&quot;com.example.OrderHandler::handleRequest&quot;</span>
    <span onmouseout="hideTip(event, 'fs11', 39)" onmouseover="showTip(event, 'fs11', 39)" class="k">runtime</span> <span onmouseout="hideTip(event, 'fs12', 40)" onmouseover="showTip(event, 'fs12', 40)" class="rt">Runtime</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs19', 41)" onmouseover="showTip(event, 'fs19', 41)" class="id">JAVA_17</span>
    <span onmouseout="hideTip(event, 'fs14', 42)" onmouseover="showTip(event, 'fs14', 42)" class="k">code</span> <span class="s">&quot;./java-service/target/order-service.jar&quot;</span>
    <span onmouseout="hideTip(event, 'fs16', 43)" onmouseover="showTip(event, 'fs16', 43)" class="k">memory</span> <span class="n">1024</span>
    <span onmouseout="hideTip(event, 'fs17', 44)" onmouseover="showTip(event, 'fs17', 44)" class="k">timeout</span> <span class="n">60.0</span>

    <span onmouseout="hideTip(event, 'fs15', 45)" onmouseover="showTip(event, 'fs15', 45)" class="k">environment</span>
        <span class="pn">[</span> <span class="s">&quot;POWERTOOLS_SERVICE_NAME&quot;</span><span class="pn">,</span> <span class="s">&quot;order-processor&quot;</span>
          <span class="s">&quot;POWERTOOLS_METRICS_NAMESPACE&quot;</span><span class="pn">,</span> <span class="s">&quot;ECommerceApp&quot;</span>
          <span class="s">&quot;POWERTOOLS_LOG_LEVEL&quot;</span><span class="pn">,</span> <span class="s">&quot;INFO&quot;</span> <span class="pn">]</span>
<span class="pn">}</span>
</code></pre>
<h3><a name="Java-Lambda-Code" class="anchor" href="#Java-Lambda-Code">Java Lambda Code</a></h3>
<p><strong>Maven dependencies (pom.xml):</strong></p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip highlighted"><code lang="xml"><span class="k">&lt;</span><span class="i">dependency</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">groupId</span><span class="k">&gt;</span>software.amazon.lambda<span class="k">&lt;/</span><span class="i">groupId</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">artifactId</span><span class="k">&gt;</span>powertools-logging<span class="k">&lt;/</span><span class="i">artifactId</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">version</span><span class="k">&gt;</span>1.18.0<span class="k">&lt;/</span><span class="i">version</span><span class="k">&gt;</span>
<span class="k">&lt;/</span><span class="i">dependency</span><span class="k">&gt;</span>
<span class="k">&lt;</span><span class="i">dependency</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">groupId</span><span class="k">&gt;</span>software.amazon.lambda<span class="k">&lt;/</span><span class="i">groupId</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">artifactId</span><span class="k">&gt;</span>powertools-metrics<span class="k">&lt;/</span><span class="i">artifactId</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">version</span><span class="k">&gt;</span>1.18.0<span class="k">&lt;/</span><span class="i">version</span><span class="k">&gt;</span>
<span class="k">&lt;/</span><span class="i">dependency</span><span class="k">&gt;</span>
<span class="k">&lt;</span><span class="i">dependency</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">groupId</span><span class="k">&gt;</span>software.amazon.lambda<span class="k">&lt;/</span><span class="i">groupId</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">artifactId</span><span class="k">&gt;</span>powertools-tracing<span class="k">&lt;/</span><span class="i">artifactId</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">version</span><span class="k">&gt;</span>1.18.0<span class="k">&lt;/</span><span class="i">version</span><span class="k">&gt;</span>
<span class="k">&lt;/</span><span class="i">dependency</span><span class="k">&gt;</span>
</code></pre></td></tr></table>
<p><strong>OrderHandler.java:</strong></p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="java">package com.example;

import com.amazonaws.services.lambda.runtime.Context;
import com.amazonaws.services.lambda.runtime.RequestHandler;
import software.amazon.lambda.powertools.logging.Logging;
import software.amazon.lambda.powertools.metrics.Metrics;
import software.amazon.lambda.powertools.tracing.Tracing;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

public class OrderHandler implements RequestHandler&lt;OrderEvent, OrderResponse&gt; {
    
    private static final Logger logger = LogManager.getLogger(OrderHandler.class);
    
    @Override
    @Logging(logEvent = true)
    @Metrics(namespace = "ECommerceApp", service = "order-processor")
    @Tracing
    public OrderResponse handleRequest(OrderEvent event, Context context) {
        
        logger.info("Processing order: " + event.getOrderId());
        
        try {
            String orderId = processOrder(event);
            
            // Metrics are automatically published
            MetricsUtils.putMetric("OrderProcessed", 1, Unit.COUNT);
            MetricsUtils.putMetric("OrderAmount", event.getAmount(), Unit.NONE);
            
            logger.info("Order processed successfully: " + orderId);
            
            return new OrderResponse(200, orderId);
            
        } catch (Exception e) {
            logger.error("Failed to process order", e);
            MetricsUtils.putMetric("OrderFailed", 1, Unit.COUNT);
            throw e;
        }
    }
    
    @Tracing
    private String processOrder(OrderEvent event) {
        // Automatically creates X-Ray subsegment
        validateOrder(event);
        saveToDatabase(event.getOrderId());
        return event.getOrderId();
    }
    
    private void validateOrder(OrderEvent event) {
        logger.debug("Validating order: " + event);
    }
    
    private void saveToDatabase(String orderId) {
        logger.info("Saving order to database: " + orderId);
    }
}
</code></pre></td></tr></table>
<hr />
<h2><a name="Environment-Variables-Reference" class="anchor" href="#Environment-Variables-Reference">Environment Variables Reference</a></h2>
<h3><a name="Logger-Configuration" class="anchor" href="#Logger-Configuration">Logger Configuration</a></h3>
<table>
<thead>
<tr class="header">
<th><p>Variable</p></th>
<th><p>Default</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><code>POWERTOOLS_SERVICE_NAME</code></p></td>
<td><p>-</p></td>
<td><p>Service name (required)</p></td>
</tr>
<tr class="even">
<td><p><code>LOG_LEVEL</code></p></td>
<td><p><code>INFO</code></p></td>
<td><p>Logging level: DEBUG, INFO, WARNING, ERROR</p></td>
</tr>
<tr class="odd">
<td><p><code>POWERTOOLS_LOGGER_LOG_EVENT</code></p></td>
<td><p><code>false</code></p></td>
<td><p>Log incoming event</p></td>
</tr>
<tr class="even">
<td><p><code>POWERTOOLS_LOGGER_SAMPLE_RATE</code></p></td>
<td><p><code>0</code></p></td>
<td><p>Sample rate (0.0-1.0) for debug logs</p></td>
</tr>
</tbody>
</table>

<h3><a name="Metrics-Configuration" class="anchor" href="#Metrics-Configuration">Metrics Configuration</a></h3>
<table>
<thead>
<tr class="header">
<th><p>Variable</p></th>
<th><p>Default</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><code>POWERTOOLS_METRICS_NAMESPACE</code></p></td>
<td><p>-</p></td>
<td><p>CloudWatch namespace (required)</p></td>
</tr>
<tr class="even">
<td><p><code>POWERTOOLS_SERVICE_NAME</code></p></td>
<td><p>-</p></td>
<td><p>Service name dimension</p></td>
</tr>
</tbody>
</table>

<h3><a name="Tracer-Configuration" class="anchor" href="#Tracer-Configuration">Tracer Configuration</a></h3>
<table>
<thead>
<tr class="header">
<th><p>Variable</p></th>
<th><p>Default</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><code>POWERTOOLS_TRACE_DISABLED</code></p></td>
<td><p><code>false</code></p></td>
<td><p>Disable tracing</p></td>
</tr>
<tr class="even">
<td><p><code>POWERTOOLS_TRACER_CAPTURE_RESPONSE</code></p></td>
<td><p><code>true</code></p></td>
<td><p>Capture response in traces</p></td>
</tr>
<tr class="odd">
<td><p><code>POWERTOOLS_TRACER_CAPTURE_ERROR</code></p></td>
<td><p><code>true</code></p></td>
<td><p>Capture errors in traces</p></td>
</tr>
</tbody>
</table>

<hr />
<h2><a name="Advanced-Configuration" class="anchor" href="#Advanced-Configuration">Advanced Configuration</a></h2>
<h3><a name="Multiple-Runtimes-in-One-Stack" class="anchor" href="#Multiple-Runtimes-in-One-Stack">Multiple Runtimes in One Stack</a></h3>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs8', 46)" onmouseover="showTip(event, 'fs8', 46)" class="fn">stack</span> <span class="s">&quot;MultiRuntimeStack&quot;</span> <span class="pn">{</span>
    <span onmouseout="hideTip(event, 'fs6', 47)" onmouseover="showTip(event, 'fs6', 47)" class="id">app</span>

    <span class="c">// Python function - Powertools added automatically</span>
    <span onmouseout="hideTip(event, 'fs9', 48)" onmouseover="showTip(event, 'fs9', 48)" class="fn">lambda</span> <span class="s">&quot;PythonFunction&quot;</span> <span class="pn">{</span>
        <span onmouseout="hideTip(event, 'fs10', 49)" onmouseover="showTip(event, 'fs10', 49)" class="k">handler</span> <span class="s">&quot;app.handler&quot;</span>
        <span onmouseout="hideTip(event, 'fs11', 50)" onmouseover="showTip(event, 'fs11', 50)" class="k">runtime</span> <span onmouseout="hideTip(event, 'fs12', 51)" onmouseover="showTip(event, 'fs12', 51)" class="rt">Runtime</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs13', 52)" onmouseover="showTip(event, 'fs13', 52)" class="id">PYTHON_3_11</span>
        <span onmouseout="hideTip(event, 'fs14', 53)" onmouseover="showTip(event, 'fs14', 53)" class="k">code</span> <span class="s">&quot;./python-service&quot;</span>

        <span onmouseout="hideTip(event, 'fs15', 54)" onmouseover="showTip(event, 'fs15', 54)" class="k">environment</span>
            <span class="pn">[</span> <span class="s">&quot;POWERTOOLS_SERVICE_NAME&quot;</span><span class="pn">,</span> <span class="s">&quot;python-service&quot;</span>
              <span class="s">&quot;POWERTOOLS_METRICS_NAMESPACE&quot;</span><span class="pn">,</span> <span class="s">&quot;MyApp&quot;</span> <span class="pn">]</span>
    <span class="pn">}</span>

    <span class="c">// Node.js function - Powertools added automatically</span>
    <span onmouseout="hideTip(event, 'fs9', 55)" onmouseover="showTip(event, 'fs9', 55)" class="fn">lambda</span> <span class="s">&quot;NodeFunction&quot;</span> <span class="pn">{</span>
        <span onmouseout="hideTip(event, 'fs10', 56)" onmouseover="showTip(event, 'fs10', 56)" class="k">handler</span> <span class="s">&quot;index.handler&quot;</span>
        <span onmouseout="hideTip(event, 'fs11', 57)" onmouseover="showTip(event, 'fs11', 57)" class="k">runtime</span> <span onmouseout="hideTip(event, 'fs12', 58)" onmouseover="showTip(event, 'fs12', 58)" class="rt">Runtime</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs18', 59)" onmouseover="showTip(event, 'fs18', 59)" class="id">NODEJS_20_X</span>
        <span onmouseout="hideTip(event, 'fs14', 60)" onmouseover="showTip(event, 'fs14', 60)" class="k">code</span> <span class="s">&quot;./nodejs-service&quot;</span>

        <span onmouseout="hideTip(event, 'fs15', 61)" onmouseover="showTip(event, 'fs15', 61)" class="k">environment</span>
            <span class="pn">[</span> <span class="s">&quot;POWERTOOLS_SERVICE_NAME&quot;</span><span class="pn">,</span> <span class="s">&quot;nodejs-service&quot;</span>
              <span class="s">&quot;POWERTOOLS_METRICS_NAMESPACE&quot;</span><span class="pn">,</span> <span class="s">&quot;MyApp&quot;</span> <span class="pn">]</span>
    <span class="pn">}</span>

    <span class="c">// .NET function - No layer added (uses NuGet)</span>
    <span onmouseout="hideTip(event, 'fs9', 62)" onmouseover="showTip(event, 'fs9', 62)" class="fn">lambda</span> <span class="s">&quot;DotNetFunction&quot;</span> <span class="pn">{</span>
        <span onmouseout="hideTip(event, 'fs10', 63)" onmouseover="showTip(event, 'fs10', 63)" class="k">handler</span> <span class="s">&quot;Assembly::Namespace.Class::Method&quot;</span>
        <span onmouseout="hideTip(event, 'fs11', 64)" onmouseover="showTip(event, 'fs11', 64)" class="k">runtime</span> <span onmouseout="hideTip(event, 'fs12', 65)" onmouseover="showTip(event, 'fs12', 65)" class="rt">Runtime</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs20', 66)" onmouseover="showTip(event, 'fs20', 66)" class="id">DOTNET_8</span>
        <span onmouseout="hideTip(event, 'fs14', 67)" onmouseover="showTip(event, 'fs14', 67)" class="k">code</span> <span class="s">&quot;./dotnet-service&quot;</span>
    <span class="c">// No Powertools layer - handled via NuGet packages</span>
    <span class="pn">}</span>
<span class="pn">}</span>
</code></pre>
<h3><a name="Disabling-Auto-Addition" class="anchor" href="#Disabling-Auto-Addition">Disabling Auto-Addition</a></h3>
<p>If you need to use a custom Powertools layer version or disable it entirely:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Note: Custom Powertools layer version must be created outside lambda builder</span>
<span class="c">// Example:</span>
<span class="c">//   let customPowertoolsLayer =</span>
<span class="c">//       LayerVersion.FromLayerVersionArn(</span>
<span class="c">//           scope,  // The CDK Stack or Construct</span>
<span class="c">//           &quot;CustomPowertools&quot;,</span>
<span class="c">//           &quot;arn:aws:lambda:us-east-1:017000801446:layer:AWSLambdaPowertoolsPython:50&quot;</span>
<span class="c">//       )</span>
<span class="c">//</span>
<span class="c">// Then use in lambda:</span>
<span onmouseout="hideTip(event, 'fs9', 68)" onmouseover="showTip(event, 'fs9', 68)" class="fn">lambda</span> <span class="s">&quot;CustomPowertoolsFunction&quot;</span> <span class="pn">{</span>
    <span onmouseout="hideTip(event, 'fs10', 69)" onmouseover="showTip(event, 'fs10', 69)" class="k">handler</span> <span class="s">&quot;app.handler&quot;</span>
    <span onmouseout="hideTip(event, 'fs11', 70)" onmouseover="showTip(event, 'fs11', 70)" class="k">runtime</span> <span onmouseout="hideTip(event, 'fs12', 71)" onmouseover="showTip(event, 'fs12', 71)" class="rt">Runtime</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs13', 72)" onmouseover="showTip(event, 'fs13', 72)" class="id">PYTHON_3_11</span>
    <span onmouseout="hideTip(event, 'fs14', 73)" onmouseover="showTip(event, 'fs14', 73)" class="k">code</span> <span class="s">&quot;./src&quot;</span>
    <span onmouseout="hideTip(event, 'fs21', 74)" onmouseover="showTip(event, 'fs21', 74)" class="k">autoAddPowertools</span> <span class="k">false</span> <span class="c">// Disable auto-addition</span>
<span class="c">// layers [ customPowertoolsLayer ]  // Add the custom layer</span>
<span class="pn">}</span>
</code></pre>
<h3><a name="Using-with-Custom-Layers" class="anchor" href="#Using-with-Custom-Layers">Using with Custom Layers</a></h3>
<p>Powertools layers are added alongside your custom layers:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Note: Custom layers must be created using CDK LayerVersion directly</span>
<span class="c">// Example:</span>
<span class="c">//   let myCustomLayer = LayerVersion(stack, &quot;CustomLayer&quot;,</span>
<span class="c">//       LayerVersionProps(</span>
<span class="c">//           LayerVersionName = &quot;my-utils&quot;,</span>
<span class="c">//           Code = Code.FromAsset(&quot;./layers/utils&quot;),</span>
<span class="c">//           CompatibleRuntimes = [| Runtime.PYTHON_3_11 |]</span>
<span class="c">//       ))</span>

<span onmouseout="hideTip(event, 'fs9', 75)" onmouseover="showTip(event, 'fs9', 75)" class="fn">lambda</span> <span class="s">&quot;MultiLayerFunction&quot;</span> <span class="pn">{</span>
    <span onmouseout="hideTip(event, 'fs10', 76)" onmouseover="showTip(event, 'fs10', 76)" class="k">handler</span> <span class="s">&quot;app.handler&quot;</span>
    <span onmouseout="hideTip(event, 'fs11', 77)" onmouseover="showTip(event, 'fs11', 77)" class="k">runtime</span> <span onmouseout="hideTip(event, 'fs12', 78)" onmouseover="showTip(event, 'fs12', 78)" class="rt">Runtime</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs13', 79)" onmouseover="showTip(event, 'fs13', 79)" class="id">PYTHON_3_11</span>
    <span onmouseout="hideTip(event, 'fs14', 80)" onmouseover="showTip(event, 'fs14', 80)" class="k">code</span> <span class="s">&quot;./src&quot;</span>
<span class="c">// layers [ myCustomLayer ]  // Add custom layers here</span>
<span class="c">// Powertools layer added automatically in addition to your layers</span>
<span class="pn">}</span>
</code></pre>
<hr />
<h2><a name="CloudWatch-Integration" class="anchor" href="#CloudWatch-Integration">CloudWatch Integration</a></h2>
<h3><a name="Querying-Structured-Logs" class="anchor" href="#Querying-Structured-Logs">Querying Structured Logs</a></h3>
<p>With Powertools JSON logging, use CloudWatch Logs Insights:</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip highlighted"><code lang="sql"><span class="c">-- Find all errors for a specific order</span>
fields @<span class="k">timestamp</span>, <span class="k">level</span>, message, order_id, error
| filter <span class="k">level</span> = "ERROR" <span class="k">and</span> order_id = "<span class="k">order</span><span class="n">-123</span>"
| sort @<span class="k">timestamp</span> <span class="k">desc</span>

<span class="c">-- Calculate average processing time</span>
fields @<span class="k">timestamp</span>, function_request_id, function_cold_start, duration
| stats <span class="k">avg</span>(duration), <span class="k">max</span>(duration), <span class="k">count</span>(</code></pre></td></tr></table>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Verify Powertools is enabled (default)</span>
<span class="c">lambda &quot;MyFunction&quot; {</span>
<span class="c">    handler &quot;app.handler&quot;</span>
<span class="c">    runtime Runtime.PYTHON_3_11</span>
<span class="c">    code &quot;./src&quot;</span>
<span class="c">    autoAddPowertools true  // Explicitly enable</span>
<span class="c">}</span>
<span class="c">```</span>

<span class="c">### Import Errors in Python</span>

<span class="c">**Symptom**: `ModuleNotFoundError: No module named &#39;aws_lambda_powertools&#39;`</span>

<span class="c">**Solution**: Layer was not added. Check runtime compatibility or verify deployment.</span>

<span class="c">### Metrics Not Appearing</span>

<span class="c">**Symptom**: No custom metrics in CloudWatch</span>

<span class="c">**Causes**:</span>
<span class="c">1. Missing `POWERTOOLS_METRICS_NAMESPACE`</span>
<span class="c">2. Missing `@metrics.log_metrics()` decorator</span>
<span class="c">3. Exception thrown before metrics flushed</span>

<span class="c">**Solution**:</span>
<span class="c">```python</span>
<span class="c"># Always use decorator to ensure metrics are flushed</span>
<span class="c">@metrics.log_metrics(capture_cold_start_metric=True)</span>
<span class="c">def lambda_handler(event, context):</span>
<span class="c">    metrics.add_metric(name=&quot;MyMetric&quot;, unit=MetricUnit.Count, value=1)</span>
<span class="c">    # Metrics automatically flushed when handler exits</span>
<span class="c">```</span>

<span class="c">---</span>

<span class="c">## Related Documentation</span>

<span class="c">- [Lambda Production Defaults](lambda-production-defaults.html) - Overview of all production features</span>
<span class="c">- [Lambda Quickstart](lambda-quickstart.html) - Basic Lambda usage</span>
<span class="c">- [CloudWatch Dashboard](cloudwatch-dashboard.html) - Visualizing metrics</span>

<span class="c">---</span>

<span class="c">## External Resources</span>

<span class="c">- [AWS Lambda Powertools Python](https://docs.powertools.aws.dev/lambda/python/)</span>
<span class="c">- [AWS Lambda Powertools TypeScript](https://docs.powertools.aws.dev/lambda/typescript/)</span>
<span class="c">- [AWS Lambda Powertools Java](https://docs.powertools.aws.dev/lambda/java/)</span>
<span class="c">- [AWS Lambda Powertools .NET](https://docs.powertools.aws.dev/lambda/dotnet/)</span>

<span class="c">---</span>

<span class="c">## Summary</span>

<span class="c">FsCDK&#39;s Lambda Powertools integration provides:</span>

<span class="c">**Zero-configuration** - Layers added automatically  </span>
<span class="c">**Multi-runtime support** - Python, Node.js, Java, .NET  </span>
<span class="c">**Production-grade observability** - Logging, metrics, tracing  </span>
<span class="c">**Zero cold-start impact** - Layers don&#39;t increase startup time  </span>
<span class="c">**Cost-effective metrics** - No CloudWatch API calls  </span>
<span class="c">**Easy to override** - Use `autoAddPowertools false` if needed  </span>

<span class="c">**Get production-ready observability with zero extra code!**</span>

<span class="c">*)</span>
<span class="pn">(</span><span class="pn">)</span>
</code></pre>

        <div class="fsdocs-tip" id="fs1">namespace Amazon</div>
<div class="fsdocs-tip" id="fs2">namespace Amazon.CDK</div>
<div class="fsdocs-tip" id="fs3">namespace Amazon.CDK.AWS</div>
<div class="fsdocs-tip" id="fs4">namespace Amazon.CDK.AWS.Lambda</div>
<div class="fsdocs-tip" id="fs5">namespace FsCDK</div>
<div class="fsdocs-tip" id="fs6">val app: App</div>
<div class="fsdocs-tip" id="fs7">Multiple items<br />type App =
  inherit Stage
  new: ?props: IAppProps -&gt; unit
  static member IsApp: obj: obj -&gt; bool<br /><br />--------------------<br />App(?props: IAppProps) : App</div>
<div class="fsdocs-tip" id="fs8">val stack: name: string -&gt; StackBuilder<br /><em>&lt;summary&gt;Creates an AWS CDK Stack construct.&lt;/summary&gt;<br />&lt;param name=&quot;name&quot;&gt;The name of the stack.&lt;/param&gt;<br />&lt;code lang=&quot;fsharp&quot;&gt;
 stack &quot;MyStack&quot; {
     lambda myFunction
     bucket myBucket
 }
 &lt;/code&gt;</em></div>
<div class="fsdocs-tip" id="fs9">val lambda: name: string -&gt; FunctionBuilder<br /><em>&lt;summary&gt;Creates a Lambda function configuration.&lt;/summary&gt;<br />&lt;param name=&quot;name&quot;&gt;The function name.&lt;/param&gt;<br />&lt;code lang=&quot;fsharp&quot;&gt;
 lambda &quot;MyFunction&quot; {
     handler &quot;index.handler&quot;
     runtime Runtime.NODEJS_18_X
     code &quot;./lambda&quot;
     timeout 30.0
 }
 &lt;/code&gt;</em></div>
<div class="fsdocs-tip" id="fs10">custom operation: handler (string)

Calls FunctionBuilder.Handler<br /><em>&lt;summary&gt;Sets the handler for the Lambda function.&lt;/summary&gt;<br />&lt;param name=&quot;handler&quot;&gt;The handler name (e.g., &quot;index.handler&quot;).&lt;/param&gt;<br />&lt;code lang=&quot;fsharp&quot;&gt;
 lambda &quot;MyFunction&quot; {
     handler &quot;index.handler&quot;
 }
 &lt;/code&gt;</em></div>
<div class="fsdocs-tip" id="fs11">custom operation: runtime (Runtime)

Calls FunctionBuilder.Runtime<br /><em>&lt;summary&gt;Sets the runtime for the Lambda function.&lt;/summary&gt;<br />&lt;param name=&quot;runtime&quot;&gt;The Lambda runtime.&lt;/param&gt;<br />&lt;code lang=&quot;fsharp&quot;&gt;
 lambda &quot;MyFunction&quot; {
     runtime Runtime.NODEJS_18_X
 }
 &lt;/code&gt;</em></div>
<div class="fsdocs-tip" id="fs12">Multiple items<br />type Runtime =
  inherit DeputyBase
  new: name: string * ?family: Nullable&lt;RuntimeFamily&gt; * ?props: ILambdaRuntimeProps -&gt; unit
  member RuntimeEquals: other: Runtime -&gt; bool
  member ToString: unit -&gt; string
  member BundlingImage: DockerImage
  member Family: Nullable&lt;RuntimeFamily&gt;
  member IsVariable: bool
  member Name: string
  member SupportsCodeGuruProfiling: bool
  member SupportsInlineCode: bool
  ...<br /><br />--------------------<br />Runtime(name: string, ?family: System.Nullable&lt;RuntimeFamily&gt;, ?props: ILambdaRuntimeProps) : Runtime</div>
<div class="fsdocs-tip" id="fs13">property Runtime.PYTHON_3_11: Runtime with get</div>
<div class="fsdocs-tip" id="fs14">custom operation: code (Code)

Calls FunctionBuilder.Code<br /><em>&lt;summary&gt;Sets the code source from a Code object.&lt;/summary&gt;<br />&lt;param name=&quot;path&quot;&gt;The Code object.&lt;/param&gt;<br />&lt;code lang=&quot;fsharp&quot;&gt;
 lambda &quot;MyFunction&quot; {
     code (Code.FromBucket myBucket &quot;lambda.zip&quot;)
 }
 &lt;/code&gt;</em></div>
<div class="fsdocs-tip" id="fs15">custom operation: environment ((string * string) list)

Calls FunctionBuilder.Environment<br /><em>&lt;summary&gt;Sets environment variables for the Lambda function.&lt;/summary&gt;<br />&lt;param name=&quot;env&quot;&gt;List of key-value pairs for environment variables.&lt;/param&gt;<br />&lt;code lang=&quot;fsharp&quot;&gt;
 lambda &quot;MyFunction&quot; {
     environment [ &quot;KEY1&quot;, &quot;value1&quot;; &quot;KEY2&quot;, &quot;value2&quot; ]
 }
 &lt;/code&gt;</em></div>
<div class="fsdocs-tip" id="fs16">custom operation: memory (int)

Calls FunctionBuilder.Memory<br /><em>&lt;summary&gt;Sets the memory allocation for the Lambda function.&lt;/summary&gt;<br />&lt;param name=&quot;mb&quot;&gt;The memory size in megabytes.&lt;/param&gt;<br />&lt;code lang=&quot;fsharp&quot;&gt;
 lambda &quot;MyFunction&quot; {
     memory 512
 }
 &lt;/code&gt;</em></div>
<div class="fsdocs-tip" id="fs17">custom operation: timeout (float)

Calls FunctionBuilder.Timeout<br /><em>&lt;summary&gt;Sets the timeout for the Lambda function.&lt;/summary&gt;<br />&lt;param name=&quot;seconds&quot;&gt;The timeout in seconds.&lt;/param&gt;<br />&lt;code lang=&quot;fsharp&quot;&gt;
 lambda &quot;MyFunction&quot; {
     timeout 30.0
 }
 &lt;/code&gt;</em></div>
<div class="fsdocs-tip" id="fs18">property Runtime.NODEJS_20_X: Runtime with get</div>
<div class="fsdocs-tip" id="fs19">property Runtime.JAVA_17: Runtime with get</div>
<div class="fsdocs-tip" id="fs20">property Runtime.DOTNET_8: Runtime with get</div>
<div class="fsdocs-tip" id="fs21">custom operation: autoAddPowertools (bool)

Calls FunctionBuilder.AutoAddPowertools<br /><em>&lt;summary&gt;
 Controls automatic Lambda Powertools layer addition. Default: true (Yan Cui recommendation).
 Set to false to disable Powertools auto-addition.
 &lt;/summary&gt;</em></div>

    </div>
</main>
<aside id="fsdocs-page-menu">
    <p id="on-this-page">On this page</p>
    <ul>
  <li class="level-2">
    <a href="#Quick-Start">
      Quick Start
    </a>
  </li>
  <li class="level-2">
    <a href="#Supported-Runtimes">
      Supported Runtimes
    </a>
  </li>
  <li class="level-3">
    <a href="#Automatic-Layer-Addition">
      Automatic Layer Addition
    </a>
  </li>
  <li class="level-3">
    <a href="#NET-Special-Case">
      .NET Special Case
    </a>
  </li>
  <li class="level-2">
    <a href="#Python-Example">
      Python Example
    </a>
  </li>
  <li class="level-3">
    <a href="#CDK-Definition">
      CDK Definition
    </a>
  </li>
  <li class="level-3">
    <a href="#Python-Lambda-Code">
      Python Lambda Code
    </a>
  </li>
  <li class="level-3">
    <a href="#SQS-Event-Processing-with-Powertools">
      SQS Event Processing with Powertools
    </a>
  </li>
  <li class="level-2">
    <a href="#Node-js-TypeScript-Example">
      Node.js/TypeScript Example
    </a>
  </li>
  <li class="level-3">
    <a href="#CDK-Definition-1">
      CDK Definition
    </a>
  </li>
  <li class="level-3">
    <a href="#TypeScript-Lambda-Code">
      TypeScript Lambda Code
    </a>
  </li>
  <li class="level-2">
    <a href="#Java-Example">
      Java Example
    </a>
  </li>
  <li class="level-3">
    <a href="#CDK-Definition-2">
      CDK Definition
    </a>
  </li>
  <li class="level-3">
    <a href="#Java-Lambda-Code">
      Java Lambda Code
    </a>
  </li>
  <li class="level-2">
    <a href="#Environment-Variables-Reference">
      Environment Variables Reference
    </a>
  </li>
  <li class="level-3">
    <a href="#Logger-Configuration">
      Logger Configuration
    </a>
  </li>
  <li class="level-3">
    <a href="#Metrics-Configuration">
      Metrics Configuration
    </a>
  </li>
  <li class="level-3">
    <a href="#Tracer-Configuration">
      Tracer Configuration
    </a>
  </li>
  <li class="level-2">
    <a href="#Advanced-Configuration">
      Advanced Configuration
    </a>
  </li>
  <li class="level-3">
    <a href="#Multiple-Runtimes-in-One-Stack">
      Multiple Runtimes in One Stack
    </a>
  </li>
  <li class="level-3">
    <a href="#Disabling-Auto-Addition">
      Disabling Auto-Addition
    </a>
  </li>
  <li class="level-3">
    <a href="#Using-with-Custom-Layers">
      Using with Custom Layers
    </a>
  </li>
  <li class="level-2">
    <a href="#CloudWatch-Integration">
      CloudWatch Integration
    </a>
  </li>
  <li class="level-3">
    <a href="#Querying-Structured-Logs">
      Querying Structured Logs
    </a>
  </li>
</ul>
</aside>
<dialog>
    <input type="search" placeholder="Search docs" />
    <div class="results">
        <ul></ul>
        <p class="empty">Type something to start searching.</p>
    </div>
</dialog>
<script type="module" src="https://totallymoney.github.io/FsCDK/content/fsdocs-tips.js"></script>
<script type="module" src="https://totallymoney.github.io/FsCDK/content/fsdocs-theme-toggle.js"></script>
<script type="module" src="https://totallymoney.github.io/FsCDK/content/fsdocs-theme.js"></script>
<script type="module" src="https://totallymoney.github.io/FsCDK/content/fsdocs-search.js"></script>

</body>
</html>